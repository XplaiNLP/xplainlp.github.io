<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="slider-container">
        <div class="slider">

          <div class="slide">
            <video autoplay muted loop playsinline>
              <source src="/uploads/media/team_day_Video_2025.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>

          <div class="slide">
            <img src="/uploads/media/group_pic_jungle.jpg">
          </div>
          <div class="slide">
            <img src="/uploads/media/team_park_2.jpg">
          </div>
          <div class="slide">
            <img src="/uploads/media/team_serious.jpg">
          </div>
          <div class="slide">
            <img src="/uploads/media/team_funny1.jpg">
          </div>
          <div class="slide">
            <img src="/uploads/media/B-gate.jpg">
          </div>
          <div class="slide">
            <img src="/uploads/media/girls.jpg">
          </div>
          </div>
      </div>
    </div>
  </div>
</div>

<style>
/* Styles for the sliding window */
.slider-container {
  width: 100%;
  max-width: 1100px;
  margin: 30px auto;
  overflow: hidden;
  position: relative;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  background-color: #000; /* Change the background to black */
}

.slider {
  display: flex;
  transition: transform 0.7s ease-in-out;
}

.slide {
  min-width: 100%;
  box-sizing: border-box;
}

.slide video,
.slide img {
  width: 100%;
  height: auto;
  aspect-ratio: 16 / 9;
  object-fit: contain; /* Change 'cover' to 'contain' */
  display: block;
}
</style>
<script>
(function() {
  window.addEventListener('load', () => {
    const slider = document.querySelector('.slider');
    if (!slider) return;

    const slides = document.querySelectorAll('.slide');
    const slideCount = slides.length;
    if (slideCount <= 1) return;

    const video = slider.querySelector('video'); // Get the video element
    let currentSlide = 0;

    // This function handles the 3-second rotation for image slides
    function startImageInterval() {
      setInterval(() => {
        // Increment the slide index
        currentSlide++;
        // If we go past the last image, loop back to the FIRST IMAGE (index 1), not the video
        if (currentSlide >= slideCount) {
          currentSlide = 1; 
        }
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
      }, 3000); // 3 seconds
    }

    // Check if a video exists on the first slide
    if (video && slides[0].contains(video)) {
      // Try to play the video (muted autoplay is usually allowed)
      video.play().catch(error => {
        console.log("Autoplay was prevented. Starting slider immediately.", error);
        // If autoplay fails for any reason, just move to the first image and start the rotation
        slider.style.transform = `translateX(-100%)`;
        currentSlide = 1;
        startImageInterval();
      });

      // Listen for when the video has finished playing
      video.addEventListener('ended', () => {
        // Move to the next slide (the first image)
        currentSlide = 1;
        slider.style.transform = `translateX(-100%)`;
        // NOW, start the 3-second timer for the images
        startImageInterval();
      }, { once: true }); // This listener will only run once

    } else {
      // If there's no video, start the normal 3-second rotation for all slides immediately
      setInterval(() => {
        currentSlide = (currentSlide + 1) % slideCount;
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
      }, 3000);
    }
  });
})();
</script>
